<!DOCTYPE html>













<html class="theme-next pisces" lang="zh-TW">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-flash.min.css?v=1.0.2">













  
  
  <link rel="stylesheet" href="/lib/fancybox/source/jquery.fancybox.css">




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Literata:300,300italic,400,400italic,700,700italic|Monda:300,300italic,400,400italic,700,700italic|Monda:300,300italic,400,400italic,700,700italic|Source Code Pro:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext">
  






<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">

<link rel="stylesheet" href="/css/main.css?v=7.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.2.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.2.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.2.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.2.0',
    sidebar: {"position":"left","width":320,"display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: true,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="九淘的記事本">
<meta property="og:url" content="http://obsidian.synology.me/index.html">
<meta property="og:site_name" content="九淘的記事本">
<meta property="og:locale" content="zh-TW">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="九淘的記事本">





  
  
  <link rel="canonical" href="http://obsidian.synology.me/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>九淘的記事本</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-TW">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">九淘的記事本</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切換導航欄">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">

    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首頁</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
      
    

    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>關於</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>標籤<span class="badge">9</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分類<span class="badge">11</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>歸檔<span class="badge">15</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-bookmark">

    
    
      
    

    
      
    

    <a href="/bookmark/" rel="section"><i class="menu-item-icon fa fa-fw fa-bookmark"></i> <br>書籤</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜尋</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜尋..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://obsidian.synology.me/2019/08/19/WorkLoad-Server-Settings/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PEGA拓也哥">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/nami_avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九淘的記事本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/19/WorkLoad-Server-Settings/" class="post-title-link" itemprop="url">WorkLoad Server Settings</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              

              
                
              

              <time title="創建時間：2019-08-19 19:26:50 / 修改時間：19:33:40" itemprop="dateCreated datePublished" datetime="2019-08-19T19:26:50+08:00">2019-08-19</time>
            </span>
          

          
            

            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">評論數：</span>
                <a href="/2019/08/19/WorkLoad-Server-Settings/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/08/19/WorkLoad-Server-Settings/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="conf檔位置"><a href="#conf檔位置" class="headerlink" title="conf檔位置"></a>conf檔位置</h2><p><code>/usr/local/apache2/conf/httpd.conf</code></p>
<h2 id="log檔位置"><a href="#log檔位置" class="headerlink" title="log檔位置"></a>log檔位置</h2><p><code>/usr/local/apache2/logs</code></p>
<h2 id="重啓apache-service"><a href="#重啓apache-service" class="headerlink" title="重啓apache service"></a>重啓apache service</h2><p><code>sudo /usr/local/apache2/bin/apachectl restart</code></p>
<h2 id="設置允許存取的IP-Source"><a href="#設置允許存取的IP-Source" class="headerlink" title="設置允許存取的IP Source"></a>設置允許存取的IP Source</h2><figure class="highlight plain"><figcaption><span>Partial httpd.conf</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory &quot;/var/www/html/&quot;&gt;</span><br><span class="line">    Options Indexes FollowSymLinks</span><br><span class="line">    AllowOverride None</span><br><span class="line">    Order allow,deny</span><br><span class="line">    Allow from 10.195.212.0/22</span><br><span class="line">    Allow from 172.24.114.0/24</span><br><span class="line">    Allow from 172.24.115.0/24</span><br><span class="line">    Allow from 172.18.28.0/24</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://obsidian.synology.me/2019/08/05/Secure-Element-Check-Procedure/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PEGA拓也哥">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/nami_avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九淘的記事本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/05/Secure-Element-Check-Procedure/" class="post-title-link" itemprop="url">ATTEC608A來料驗證</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              

              
                
              

              <time title="創建時間：2019-08-05 21:41:32" itemprop="dateCreated datePublished" datetime="2019-08-05T21:41:32+08:00">2019-08-05</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新於</span>
                
                <time title="修改時間：2019-08-06 16:30:06" itemprop="dateModified" datetime="2019-08-06T16:30:06+08:00">2019-08-06</time>
              </span>
            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">評論數：</span>
                <a href="/2019/08/05/Secure-Element-Check-Procedure/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/08/05/Secure-Element-Check-Procedure/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          The article has been encrypted, please enter your password to view.<br>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/08/05/Secure-Element-Check-Procedure/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://obsidian.synology.me/2019/08/02/c-sharp-work-with-ironpython/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PEGA拓也哥">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/nami_avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九淘的記事本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/02/c-sharp-work-with-ironpython/" class="post-title-link" itemprop="url">C# 利用 ironPython 呼叫Python研究過程</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              

              
                
              

              <time title="創建時間：2019-08-02 19:06:00 / 修改時間：20:04:59" itemprop="dateCreated datePublished" datetime="2019-08-02T19:06:00+08:00">2019-08-02</time>
            </span>
          

          
            

            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">評論數：</span>
                <a href="/2019/08/02/c-sharp-work-with-ironpython/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/08/02/c-sharp-work-with-ironpython/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="動機"><a href="#動機" class="headerlink" title="動機"></a>動機</h1><p>最近工作上需要在Windows視窗程式上呼叫Python script，之前完全沒用過C#而且對Python也不熟的我，就只能上網找資料了。找著找著還真的發現了一套叫IronPython的套件可以使用。底下就來筆記一下我在網上找到的內容。</p>
<h1 id="配置過程"><a href="#配置過程" class="headerlink" title="配置過程"></a>配置過程</h1><h2 id="安裝ironPython"><a href="#安裝ironPython" class="headerlink" title="安裝ironPython"></a>安裝ironPython</h2><p>下載最新版應該是IronPython-2.7.x.msi <a href="http://ironpython.net/" target="_blank" rel="noopener">http://ironpython.net/</a></p>
<img src="/images/ironpython_01.png">
<h2 id="開啟Visual-Studio-2019"><a href="#開啟Visual-Studio-2019" class="headerlink" title="開啟Visual Studio 2019"></a>開啟Visual Studio 2019</h2><p>開啟Vidusl Studio 2019並創建新專案，選擇C# Windows Forms App(.Net Framework)</p>
<img src="/images/ironpython_02.png">

<h2 id="寫一個最簡單的-py文件待呼叫"><a href="#寫一個最簡單的-py文件待呼叫" class="headerlink" title="寫一個最簡單的.py文件待呼叫"></a>寫一個最簡單的.py文件待呼叫</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="function">def <span class="title">text</span>(<span class="params"></span>):</span></span><br><span class="line"><span class="function">    return "我是返回結果"</span></span><br></pre></td></tr></table></figure>

<h2 id="導入IronPython及Microsoft-Scripting至新專案中"><a href="#導入IronPython及Microsoft-Scripting至新專案中" class="headerlink" title="導入IronPython及Microsoft.Scripting至新專案中"></a>導入IronPython及Microsoft.Scripting至新專案中</h2><img src="/images/ironpython_03.png" title="加入參考">
<img src="/images/ironpython_04.png" title="搜尋IronType勾選並按下確定">
<img src="/images/ironpython_05.png" title="確認IronPython及Microsoft.Scripting都已加入">
<h2 id="呼叫前添加兩個參考"><a href="#呼叫前添加兩個參考" class="headerlink" title="呼叫前添加兩個參考"></a>呼叫前添加兩個參考</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> IronPython.Hosting;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Scripting.Hosting;</span><br></pre></td></tr></table></figure>

<h2 id="在視窗中加入Label1"><a href="#在視窗中加入Label1" class="headerlink" title="在視窗中加入Label1"></a>在視窗中加入Label1</h2><img src="/images/ironpython_06.png">

<h2 id="插入程式碼"><a href="#插入程式碼" class="headerlink" title="插入程式碼"></a>插入程式碼</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ScriptRuntime pyRuntime = Python.CreateRuntime();</span><br><span class="line"><span class="keyword">dynamic</span> py = pyRuntime.UseFile(<span class="string">"mainwindows.py"</span>);</span><br><span class="line"><span class="keyword">string</span> a = py.text();</span><br><span class="line">label1.Text = a;</span><br></pre></td></tr></table></figure>

<h2 id="最後的程式碼"><a href="#最後的程式碼" class="headerlink" title="最後的程式碼"></a>最後的程式碼</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.ComponentModel;</span><br><span class="line"><span class="keyword">using</span> System.Data;</span><br><span class="line"><span class="keyword">using</span> System.Drawing;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"><span class="keyword">using</span> System.Threading.Tasks;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"><span class="keyword">using</span> IronPython.Hosting;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Scripting.Hosting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">WindowsFormsApp1</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">Form1</span> : <span class="title">Form</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Form1</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            InitializeComponent();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Form1_Load</span>(<span class="params"><span class="keyword">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            ScriptRuntime pyRuntime = Python.CreateRuntime();</span><br><span class="line">            <span class="keyword">dynamic</span> py = pyRuntime.UseFile(<span class="string">"C:\\Users\\stone\\Documents\\Arlo\\iqc-test\\test.py"</span>);</span><br><span class="line">            <span class="keyword">string</span> a = py.text();</span><br><span class="line">            label1.Text = a;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="執行成果"><a href="#執行成果" class="headerlink" title="執行成果"></a>執行成果</h2><img src="/images/ironpython_07.png" title="執行結果">
          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://obsidian.synology.me/2019/08/01/windows10-virtual-desktop/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PEGA拓也哥">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/nami_avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九淘的記事本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/08/01/windows10-virtual-desktop/" class="post-title-link" itemprop="url">10個Windows 10必用快捷鍵</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              

              
                
              

              <time title="創建時間：2019-08-01 15:58:00 / 修改時間：17:28:44" itemprop="dateCreated datePublished" datetime="2019-08-01T15:58:00+08:00">2019-08-01</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Windows-10/" itemprop="url" rel="index"><span itemprop="name">Windows 10</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">評論數：</span>
                <a href="/2019/08/01/windows10-virtual-desktop/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/08/01/windows10-virtual-desktop/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Windows-10的虛擬桌面攻略"><a href="#Windows-10的虛擬桌面攻略" class="headerlink" title="Windows 10的虛擬桌面攻略"></a>Windows 10的虛擬桌面攻略</h1><img src="https://static.newmobilelife.com/wp-content/uploads/2015/07/windows-10-shortcut_00.jpg">
<p>最近因為買了台Intel NUC，原本要拿來安裝黑蘋果，但資質努頓的我搞了兩個星期後，還是沒能搞定。所以還是乖乖的安裝Windows 10就好了。因為很久沒使用Windows的作業系統了，感覺很生疏。第一個感覺適應的就是虛擬桌面了，Mac上面的虛擬桌面太方便好用了，換到Windows 10後完全無法接受這個小小的桌面空間，想著Mac上的虛擬桌面能在Windows 10上使用該有多好。上網一查，原來人家Microsoft本來就有幫Windows 10設計了虛擬桌面了。</p>
<hr>
<p><a href="https://www.newmobilelife.com/2015/07/30/windows-10-shortcut_2-2/" target="_blank" rel="noopener">本文出處</a></p>
<h2 id="Win-開始功能表"><a href="#Win-開始功能表" class="headerlink" title="Win 開始功能表"></a><code>Win</code> 開始功能表</h2><p>毫無疑問在 Windows 必用的快捷鍵，為何又要說？原因是不同於 Win 8 的開始畫面，Win 10 的 Win 鍵是打開連同關機按鈕和應用程式清單的開始功能表。簡單說，小編只是想說開始功能表回來了。</p>
<img src="https://static.newmobilelife.com/wp-content/uploads/2015/07/windows-10-shortcut_01.png" title="開始功能鍵 開始功能表">

<h2 id="Win-A-打開訊息中心"><a href="#Win-A-打開訊息中心" class="headerlink" title="Win+A 打開訊息中心"></a><code>Win</code>+<code>A</code> 打開訊息中心</h2><p>Windows 10的重要訊息中心，除了系統訊息之外下方也有像平板電腦模式、連線、便條箋、藍牙、亮度、網路等等大量系統設定。</p>
<img src="https://static.newmobilelife.com/wp-content/uploads/2015/07/windows-10-shortcut_02.png">

<h2 id="Win-E-打開檔案總管"><a href="#Win-E-打開檔案總管" class="headerlink" title="Win+E 打開檔案總管"></a><code>Win</code>+<code>E</code> 打開檔案總管</h2><img src="https://static.newmobilelife.com/wp-content/uploads/2015/07/windows-10-shortcut_03.png">

<h2 id="Win-I：Windows-10-系統設定（不是控制台）"><a href="#Win-I：Windows-10-系統設定（不是控制台）" class="headerlink" title="Win+I：Windows 10 系統設定（不是控制台）"></a><code>Win</code>+<code>I</code>：Windows 10 系統設定（不是控制台）</h2><img src="https://static.newmobilelife.com/wp-content/uploads/2015/07/windows-10-shortcut_05.png">

<h2 id="Win-S-搜尋介面"><a href="#Win-S-搜尋介面" class="headerlink" title="Win+S 搜尋介面"></a><code>Win</code>+<code>S</code> 搜尋介面</h2><p>除了 <code>Win</code>+<code>S</code> 之外，按 <code>Win</code>+<code>Q</code> 也可啟動搜尋介面。</p>
<img src="https://static.newmobilelife.com/wp-content/uploads/2015/07/windows-10-shortcut_07.png">

<h2 id="Win-T：從下方工作列選擇應用程式，按-Enter-開啟"><a href="#Win-T：從下方工作列選擇應用程式，按-Enter-開啟" class="headerlink" title="Win+T：從下方工作列選擇應用程式，按 Enter 開啟"></a><code>Win</code>+<code>T</code>：從下方工作列選擇應用程式，按 Enter 開啟</h2><p>按這個快捷鍵之後，你可以按方向鍵選擇工作列上正執行或釘選的應用程式，還可指定視窗開啟。</p>
<img src="https://static.newmobilelife.com/wp-content/uploads/2015/07/windows-10-shortcut_08.png">

<h2 id="Win-方向鍵：排列視窗"><a href="#Win-方向鍵：排列視窗" class="headerlink" title="Win+方向鍵：排列視窗"></a><code>Win</code>+方向鍵：排列視窗</h2><p>簡單而言，就是排列視窗到左右方或四個角落。</p>
<img src="https://static.newmobilelife.com/wp-content/uploads/2015/07/windows-10-shortcut_09.png">

<h2 id="Win-Tab-虛擬桌面快捷鍵"><a href="#Win-Tab-虛擬桌面快捷鍵" class="headerlink" title="Win+Tab 虛擬桌面快捷鍵"></a><code>Win</code>+<code>Tab</code> 虛擬桌面快捷鍵</h2><img src="https://static.newmobilelife.com/wp-content/uploads/2015/07/windows-10-shortcut_10.png">
<p><code>Win</code>+<code>Ctrl</code>+<code>D</code>：新增虛擬桌面<br><code>Win</code>+<code>Ctrl</code>+<code>F4</code>：關閉虛擬桌面<br><code>Win</code>+<code>Ctrl</code>+左右方向鍵：轉換虛擬桌面<br><code>Win</code>+<code>Shift</code>+左右方向鍵：把視窗移動到鄰近的虛擬桌面(Deprecated)，如果有需要可參考<a href="https://github.com/Eun/MoveToDesktop" target="_blank" rel="noopener">MoveToDesktop</a></p>
<h2 id="其他-Windows-10-快捷鍵一覽"><a href="#其他-Windows-10-快捷鍵一覽" class="headerlink" title="其他 Windows 10 快捷鍵一覽"></a>其他 Windows 10 快捷鍵一覽</h2><p><code>Win</code>+<code>Tab</code>：轉換使用中視窗<br><code>Win</code>+<code>D</code>：顯示桌面<br><code>Win</code>+<code>H</code>：在所有視窗進行分享<br><code>Win</code>+<code>L</code>：鎖定桌面<br><code>Win</code>+<code>M</code>：縮小所有視窗<br><code>Win</code>+<code>P</code>：投影第二螢幕設定<br><code>Win</code>+<code>Q</code>：搜尋介面<br><code>Win</code>+<code>R</code>：「執行」視窗</p>

          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://obsidian.synology.me/2019/07/16/On-My-Hackintosh/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PEGA拓也哥">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/nami_avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九淘的記事本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/07/16/On-My-Hackintosh/" class="post-title-link" itemprop="url">我的黑蘋果之路</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              

              
                
              

              <time title="創建時間：2019-07-16 10:58:00" itemprop="dateCreated datePublished" datetime="2019-07-16T10:58:00+08:00">2019-07-16</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新於</span>
                
                <time title="修改時間：2019-07-26 17:52:36" itemprop="dateModified" datetime="2019-07-26T17:52:36+08:00">2019-07-26</time>
              </span>
            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Hardware/" itemprop="url" rel="index"><span itemprop="name">Hardware</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Hardware/DIY/" itemprop="url" rel="index"><span itemprop="name">DIY</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Hardware/DIY/MAC-OS/" itemprop="url" rel="index"><span itemprop="name">MAC OS</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">評論數：</span>
                <a href="/2019/07/16/On-My-Hackintosh/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/07/16/On-My-Hackintosh/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="動機"><a href="#動機" class="headerlink" title="動機"></a>動機</h1><p>  最近想買台Intel NUC來玩玩黑蘋果。</p>
<span itemprop="image" itemscope itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="https://mrmad.com.tw/wp-content/uploads/2018/05/ackintosh-macos-high-sierra-cover.png" class="full-image"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span>

<h1 id="硬體清單"><a href="#硬體清單" class="headerlink" title="硬體清單"></a>硬體清單</h1><h2 id="NUC8I7BEH1"><a href="#NUC8I7BEH1" class="headerlink" title="NUC8I7BEH1"></a>NUC8I7BEH1</h2><table>
<thead>
<tr>
<th>Item</th>
<th>Detail</th>
</tr>
</thead>
<tbody><tr>
<td>CPU</td>
<td>Intel i7-8559U, 4c/8t, base 2.7Ghz, turbo 4.5Ghz, 28w TDP. (same CPU as the MBP 2018)</td>
</tr>
<tr>
<td>Graphic</td>
<td>intel Iris plus 655 with 128 eDRAM. (same GPU as the MBP 2018)</td>
</tr>
<tr>
<td>RAM</td>
<td>Two sockets 260-pin 1.2 V DDR4 SDRAM SO-DIMM (up to 32Gb, and 2400Mhz)</td>
</tr>
<tr>
<td>Lan</td>
<td>Intel I219V Gigabit Ethernet Controller (10/100/1000 Mbps)</td>
</tr>
<tr>
<td>Wireless</td>
<td>Intel Dual Band Wireless-AC 9560 (soldered)</td>
</tr>
<tr>
<td>I/O</td>
<td>1x Thunderbolt 3 Four lanes 40Gbps, support DisplayPort 1.2 (17Gbps, up to 4096x2304@60Hz), support USB data (10Gbps)</td>
</tr>
<tr>
<td></td>
<td>1x HDMI 2.0a (up to 4096x2160@60 Hz)</td>
</tr>
<tr>
<td></td>
<td>1x SATA 6 Gbps, 2.5” (540 Mbps)</td>
</tr>
<tr>
<td></td>
<td>1x M.2 connector (key type M and B+M) for 2242 and 2280 modules. Four lanes (4 Gbps)</td>
</tr>
<tr>
<td></td>
<td>4x USB-A 3.1 (gen2 10Gbps). One port can deliver 1.5A</td>
</tr>
<tr>
<td></td>
<td>1x Micro SDXC Card Reader</td>
</tr>
<tr>
<td></td>
<td>1x Jack 3.5mm Realtek HD Audio</td>
</tr>
</tbody></table>
<h1 id="安裝參考"><a href="#安裝參考" class="headerlink" title="安裝參考"></a>安裝參考</h1><ul>
<li><a href="https://imac.hk/" target="_blank" rel="noopener">黑蘋果樂園</a></li>
<li><a href="http://koolshare.cn/forum.php?mod=viewthread&tid=153925&page=1&authorid=1156" target="_blank" rel="noopener">NUC8I7BEH初尝MacOS双系统，探索黑苹果之路</a></li>
<li><a href="https://mrmad.com.tw/hackintosh-macos-high-sierra" target="_blank" rel="noopener">踏上黑蘋果(Hackintosh)之路：從購買至安裝macOS系統教學</a></li>
<li><a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html" target="_blank" rel="noopener">macOS安装教程兼小米Pro安装过程记录</a></li>
<li><a href="https://github.com/daliansky/Hackintosh" target="_blank" rel="noopener">Hackintosh黑苹果长期维护机型EFI及安装教程整理</a></li>
<li><a href="https://osy.gitbook.io/hac-mini-guide/" target="_blank" rel="noopener">NUC8I7BEH Hackintosh Guide</a></li>
<li><a href="https://github.com/sarkrui/NUC8i7BEH-Hackintosh-Build" target="_blank" rel="noopener">NUC8i7BEH-Hackintosh-Build</a></li>
<li><a href="https://www.imacpc.net/" target="_blank" rel="noopener">Taiwan Hackintosher Center</a></li>
</ul>
<h1 id="BIOS-Settings"><a href="#BIOS-Settings" class="headerlink" title="BIOS Settings"></a>BIOS Settings</h1><p>First, it is important to reset your BIOS settings to the defaults. After everything is working, you can come back and tweak any overclock settings. After resetting the BIOS settings, we make three changes:</p>
<img src="https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-Lg8W-aq2iVmfCu-bBef%2F-LiLnTwApfdj7zxXuPqw%2F-LiLnzclela4ofaZpJdk%2FSCREEN1.png?alt=media&token=617f57e6-490d-4015-bd86-d0841545b430" title="Disable portable device charging mode or a device plugged into the yellow USB port will prevent the computer from sleeping.">

<img src="https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-Lg8W-aq2iVmfCu-bBef%2F-LiLnTwApfdj7zxXuPqw%2F-LiLo9KiCYvpz6id4kc8%2FSCREEN2.png?alt=media&token=5f639ffa-4222-43b7-828e-1bf793d0d0b6" title="Set Thunderbolt Security Level to Legacy Mode or TB3 will not work.">

<img src="https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-Lg8W-aq2iVmfCu-bBef%2F-LiLnTwApfdj7zxXuPqw%2F-LiLoFs8L5fYslVopF55%2FSCREEN3.png?alt=media&token=10d9c664-0295-414e-b8fd-10f772343678" title="Disable secure boot or Clover will not load.">
          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://obsidian.synology.me/2019/07/15/插入多行至檔案/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PEGA拓也哥">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/nami_avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九淘的記事本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/07/15/插入多行至檔案/" class="post-title-link" itemprop="url">插入多行至檔案</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              

              
                
              

              <time title="創建時間：2019-07-15 09:15:00 / 修改時間：16:37:08" itemprop="dateCreated datePublished" datetime="2019-07-15T09:15:00+08:00">2019-07-15</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Shell/" itemprop="url" rel="index"><span itemprop="name">Shell</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">評論數：</span>
                <a href="/2019/07/15/插入多行至檔案/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/07/15/插入多行至檔案/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h1><p>　　最近遇到個問題，同仁需要將兩行字串，插入至Makefile中特定行之後。看來這個問題不是單純靠append檔案就可以達成。想了想，我覺得應該還是用Sed指令比較適合，於是乎開始上網找資料，最後將結果紀錄下來供日後參考用。</p>
<h1 id="計畫"><a href="#計畫" class="headerlink" title="計畫"></a>計畫</h1><p>　　想法很簡單，先找到要插入那行的pattern後，透過Regular Expression來搜尋檔案中的位置，最後透過Sed指令將其整備置換掉。打完收工。理想很性感，現實卻是骨感的。Sed實在是太高深了，所以我還是先用折衷的方式來達成這個短期的目標。</p>
<h1 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echo "               \$&#123;libdir&#125;/libnl-nf-3.so.* \\" &gt; ~/tmp.txt</span><br><span class="line">echo "               \$&#123;libdir&#125;/libnl-route-3.so.* \\" &gt;&gt; ~/tmp.txt</span><br><span class="line">sed -i '/$&#123;libdir&#125;\/libnl.so.* \\/r ~/tmp.txt' ../yocto/openembedded-core/meta/recipes-support/libnl/libnl_3.2.22.bb</span><br><span class="line">rm ~/tmp.txt</span><br></pre></td></tr></table></figure>

<h1 id="後續"><a href="#後續" class="headerlink" title="後續"></a>後續</h1><p>　　其實應該有更好的方法，只是暫時測不過，打算之後再找時間來驗證<a href="https://unix.stackexchange.com/questions/26284/how-can-i-use-sed-to-replace-a-multi-line-string" target="_blank" rel="noopener">新方法</a>了。</p>

          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://obsidian.synology.me/2019/07/11/A-Turkey-fantasy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PEGA拓也哥">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/nami_avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九淘的記事本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/07/11/A-Turkey-fantasy/" class="post-title-link" itemprop="url">腦補土耳其之旅</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              

              
                
              

              <time title="創建時間：2019-07-11 17:27:11 / 修改時間：18:01:47" itemprop="dateCreated datePublished" datetime="2019-07-11T17:27:11+08:00">2019-07-11</time>
            </span>
          

          
            

            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">評論數：</span>
                <a href="/2019/07/11/A-Turkey-fantasy/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/07/11/A-Turkey-fantasy/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <div class="instagram-wrapper"><blockquote class="instagram-media" data-instgrm-captioned data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px auto; padding:0; width:99.375%; width:-webkit-calc(100%- 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:50.0% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="https://www.instagram.com/p/BkPalhPlpe5/" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank"></a></p></div></blockquote></div><script async defer src="//platform.instagram.com/en_US/embeds.js"></script>
<span itemprop="image" itemscope itemtype="http://schema.org/ImageObject"><img itemprop="url image" src="/images/1049-20180606.jpg" class="full-image" alt="www.larisacostea.com"><meta itemprop="width" content="auto"><meta itemprop="height" content="auto"></span>
          <!--noindex-->
          
            <div class="post-button text-center">
              <a class="btn" href="/2019/07/11/A-Turkey-fantasy/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          
          <!--/noindex-->
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://obsidian.synology.me/2019/07/09/Link-to-local-article/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PEGA拓也哥">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/nami_avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九淘的記事本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/07/09/Link-to-local-article/" class="post-title-link" itemprop="url">連結站內文章</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              

              
                
              

              <time title="創建時間：2019-07-09 19:53:00" itemprop="dateCreated datePublished" datetime="2019-07-09T19:53:00+08:00">2019-07-09</time>
            </span>
          

          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新於</span>
                
                <time title="修改時間：2019-07-10 09:44:03" itemprop="dateModified" datetime="2019-07-10T09:44:03+08:00">2019-07-10</time>
              </span>
            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">評論數：</span>
                <a href="/2019/07/09/Link-to-local-article/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/07/09/Link-to-local-article/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h1><p>寫文章的時候，經常需要引用站內的其他文章，此時可以使用Hexo內建的標籤插件（Tag Plugins）中的<code>post_link</code>來實現。</p>
<h1 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h1><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% post_link slug [title] %&#125;</span><br></pre></td></tr></table></figure>

<p>其中<code>slug</code>就是_posts文件夾下需要引用的文章的<span id="inline-blue">markdown文件名稱</span>，<code>[title]</code>可以指定引用的文章需要顯示的名字。</p>
<h1 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h1><p>例如，使用Hexo撰寫Blog這篇文章的markdown名稱為Link-to-local-article.md<br>那麼在需要引用時，只要透過下面語法即可加入連結：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- &#123;% post_link Link-<span class="keyword">to</span>-<span class="keyword">local</span>-article %&#125;</span><br><span class="line">- &#123;% post_link Link-<span class="keyword">to</span>-<span class="keyword">local</span>-article 連結站內文章（替換連結名稱）%&#125;</span><br></pre></td></tr></table></figure>

<p>顯示效果如下：</p>
<ul>
<li><a href="/2019/07/09/Link-to-local-article/" title="連結站內文章">連結站內文章</a></li>
<li><a href="/2019/07/09/Link-to-local-article/" title="可以自行指定連結名稱">可以自行指定連結名稱</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://obsidian.synology.me/2019/07/09/SSH-keep-alive/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PEGA拓也哥">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/nami_avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九淘的記事本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/07/09/SSH-keep-alive/" class="post-title-link" itemprop="url">SSH保持連線</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              

              
                
              

              <time title="創建時間：2019-07-09 19:36:00 / 修改時間：19:51:51" itemprop="dateCreated datePublished" datetime="2019-07-09T19:36:00+08:00">2019-07-09</time>
            </span>
          

          
            

            
          

          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">評論數：</span>
                <a href="/2019/07/09/SSH-keep-alive/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/07/09/SSH-keep-alive/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h1><a href="/2019/07/09/rmate-on-Sublime-text-3/" title="從本地編輯遠端文件">從本地編輯遠端文件</a>這篇筆記中，我們己經可以在本地端透過SSH編輯遠端文件了。但是經常出現broken pipe的錯誤訊息，且造成連線中斷，所以我試著加入保持連線的設定，試看看是否可以解決掉經常斷線的問題？

<h1 id="設定"><a href="#設定" class="headerlink" title="設定"></a>設定</h1><ul>
<li>編輯 <code>~/.ssh/config</code> 文件</li>
<li>加入 <code>ServerAliveInterval 240</code> 及 <code>ServerAliveCountMax 2</code> 兩個設定值。<figure class="highlight plain"><figcaption><span>~/.ssh/config</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Host 10.255.203.8</span><br><span class="line"> RemoteForward 52698 localhost:52698</span><br><span class="line"> User ptron_ssun</span><br><span class="line"> ServerAliveInterval 240</span><br><span class="line"> ServerAliveCountMax 2</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h1 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h1><p>只需要在<span id="inline-blue">Terminal</span>下執行 <code>ssh 10.255.203.8</code> 即可進行連線。</p>

          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://obsidian.synology.me/2019/07/09/rmate-on-Sublime-text-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="PEGA拓也哥">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/nami_avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="九淘的記事本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/07/09/rmate-on-Sublime-text-3/" class="post-title-link" itemprop="url">從本地編輯遠端文件</a>
              
            
          </h1>
        

        <div class="post-meta">

          
          
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              

              
                
              

              <time title="創建時間：2019-07-09 14:40:00 / 修改時間：15:25:16" itemprop="dateCreated datePublished" datetime="2019-07-09T14:40:00+08:00">2019-07-09</time>
            </span>
          

          
            

            
          

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Editor/" itemprop="url" rel="index"><span itemprop="name">Editor</span></a></span>

                
                
              
            </span>
          

          
            
            
              
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">評論數：</span>
                <a href="/2019/07/09/rmate-on-Sublime-text-3/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/07/09/rmate-on-Sublime-text-3/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          <br>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h1><p>　　很多時候source code在遠端的server上，要編輯檔案最快的方法就是透過vi來進行。我們都知道vi很強大很方便，但是再怎麼方便也沒有比在自己家方便。於是乎，我們可能就想把檔案抓回本地進行編輯。如果你曾使用FTP之類的工具將檔案下載回來，再使用本地的編輯器修改檔案的經驗，你可能會發現傳檔的效率並不是很好，感覺不像本地儲存那麼直覺，總是會卡卡的。</p>
<p>　　所以我就想說有沒有什麼方式可以用本地的編輯器直接在遠端編輯的工具，找了之後發現還蠻多的，例如Beyond Compare就可以透過SSH的方式連進遠端的伺服器進行檔案的編輯。不過畢竟Beyond Compare並不是一個專業的編輯器，用來比對檔案差異很方便，但是用來當編輯器就實在有點不好意思了。</p>
<p>　　我常用的編輯器是Sublime Text，所以我就在這上面找看看有哪些適合的套件可以達成遠端編輯的目的。我曾經用過<a href="https://packagecontrol.io/packages/SFTP" target="_blank" rel="noopener">SFTP</a>、<a href="https://packagecontrol.io/packages/FTPSync" target="_blank" rel="noopener">FTPSync</a>這類的外掛插件，不過要嘛不更新了，要不就是商用軟體（要付錢的）。而且我記得設定還挺麻煩的，後來找到一個比較簡單的插件，也就是今天的主角<a href="https://packagecontrol.io/packages/RemoteSubl" target="_blank" rel="noopener">RemoteSubl</a></p>
<h1 id="安裝"><a href="#安裝" class="headerlink" title="安裝"></a>安裝</h1><p>　　其實安裝方式在插件的連結頁面中就已經提到了，但是英文寫的有點多，所以我就用中文來把它縮減一下。要使用這個插件需要把工作分成兩個部份，一個是遠端伺服器，另一個是本地電腦。底下我們就開始動手打造吧。</p>
<p>　　首先，我們先從本地Sublime Text插件安裝說起。其實要在Sublime Text上安裝<code>RemoteSubl</code>很簡單，直接透過Package Control指令即可輕鬆安裝完成。裝完<code>RemoteSubl</code>插件後，基本上我們在本地端的工作就結束了。</p>
<blockquote>
<p><small>如果不曉得怎麼透過Package Control安裝Sublime Text插件，可以上網找找，應該蠻多介紹的，基本上Package Control官網上就有解釋如何<a href="https://packagecontrol.io/installation" target="_blank" rel="noopener">安裝</a>，有空我會再補一篇教學。</small></p>
</blockquote>
<p>　　第二步，你得連線到你的遠端機器上，安裝一個叫<code>rmate</code>的script(bash version)，如果安裝過就不用再安裝了，要安裝它其實也很簡單，直接把它抓下來放到你希望的路徑底下，最後變更執行權限後即可。就這樣，沒有其他步驟了。我們把重點放到怎麼使用它吧，讓我們繼續看下去。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -o /usr/local/bin/rmate https://raw.githubusercontent.com/aurora/rmate/master/rmate</span><br><span class="line">sudo chmod +x /usr/local/bin/rmate</span><br></pre></td></tr></table></figure>

<h1 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h1><p>　　從你本地的電腦的Terminal中執行底下指令，透過SSH的remote port forwarded機制連線到遠端的伺服器上。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ssh</span> <span class="selector-tag">-R</span> 52698<span class="selector-pseudo">:localhost</span><span class="selector-pseudo">:52698</span> <span class="selector-tag">user</span>@<span class="keyword">example</span>.<span class="keyword">com</span></span><br></pre></td></tr></table></figure>

<p>　　通道建立後，你就可以直接在遠端機器上執行<code>rmate [file]</code>指令，執行後你就可以看到檔案從本地的Sublime Text被開啟了。</p>
<blockquote>
<h5>注意：</h5>

<p><small>在執行<code>rmate [file]</code>指令前，請先確定你己經將Sublime Text編輯器打開了。不然你會看到<code>connect_to localhost port 52698: failed.</code></small></p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    <div>
      
    </div>

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一頁"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/nami_avatar.png" alt="PEGA拓也哥">
            
              <p class="site-author-name" itemprop="name">PEGA拓也哥</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">15</span>
                    <span class="site-state-item-name">文章</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">10</span>
                    <span class="site-state-item-name">分類</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">8</span>
                    <span class="site-state-item-name">標籤</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/hamanstone" title="GitHub &rarr; https://github.com/hamanstone" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://www.facebook.com/hamanstone" title="Facebook &rarr; https://www.facebook.com/hamanstone" rel="noopener" target="_blank"><i class="fa fa-fw fa-facebook"></i>Facebook</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://youtube.com/hamanstone" title="YouTube &rarr; https://youtube.com/hamanstone" rel="noopener" target="_blank"><i class="fa fa-fw fa-youtube"></i>YouTube</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://instagram.com/hamanstone" title="Instagram &rarr; https://instagram.com/hamanstone" rel="noopener" target="_blank"><i class="fa fa-fw fa-instagram"></i>Instagram</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">PEGA拓也哥</span>

  

  
</div>


  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 強力驅動 v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主題 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.2.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>












  













  



  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="/lib/fancybox/source/jquery.fancybox.pack.js"></script>

  
  <script src="/lib/reading_progress/reading_progress.js"></script>


  


  <script src="/js/utils.js?v=7.2.0"></script>

  <script src="/js/motion.js?v=7.2.0"></script>



  
  


  <script src="/js/affix.js?v=7.2.0"></script>

  <script src="/js/schemes/pisces.js?v=7.2.0"></script>



  

  


  <script src="/js/next-boot.js?v=7.2.0"></script>


  

  

  

  
  
<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://hamanstone.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>







  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  
<script>
  $('.highlight').not('.gist .highlight').each(function(i, e) {
    var $wrap = $('<div>').addClass('highlight-wrap');
    $(e).after($wrap);
    $wrap.append($('<button>').addClass('copy-btn').append('複製').on('click', function(e) {
      var code = $(this).parent().find('.code').find('.line').map(function(i, e) {
        return $(e).text();
      }).toArray().join('\n');
      var ta = document.createElement('textarea');
      var yPosition = window.pageYOffset || document.documentElement.scrollTop;
      ta.style.top = yPosition + 'px'; // Prevent page scroll
      ta.style.position = 'absolute';
      ta.style.opacity = '0';
      ta.readOnly = true;
      ta.value = code;
      document.body.appendChild(ta);
      const selection = document.getSelection();
      const selected = selection.rangeCount > 0 ? selection.getRangeAt(0) : false;
      ta.select();
      ta.setSelectionRange(0, code.length);
      ta.readOnly = false;
      var result = document.execCommand('copy');
      
        if (result) $(this).text('複製成功');
        else $(this).text('複製失敗');
      
      ta.blur(); // For iOS
      $(this).blur();
      if (selected) {
        selection.removeAllRanges();
        selection.addRange(selected);
      }
    })).on('mouseleave', function(e) {
      var $b = $(this).find('.copy-btn');
      setTimeout(function() {
        $b.text('複製');
      }, 300);
    }).append(e);
  })
</script>


  

  

</body>
</html>
